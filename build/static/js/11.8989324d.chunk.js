(this["webpackJsonpfirebase-redux-auth-app"]=this["webpackJsonpfirebase-redux-auth-app"]||[]).push([[11],{320:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n(1);var a=n(433),c=n(435),r=n(430),i=n(432),s=n(434),o=n(431),l=n(2),j=["Name","Role","Access Level","Email","ID","Date of birth","Created on"],d=function(){return j.map((function(e){return Object(l.jsx)(r.a,{sx:{fontWeight:"bold"},align:"center",children:e},e)}))},b=function(e){return e.dataInfo.map((function(e){return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",children:e.firstName+" "+e.lastName}),Object(l.jsx)(r.a,{align:"center",children:e.role}),Object(l.jsx)(r.a,{align:"center",children:e.accessLevel}),Object(l.jsx)(r.a,{align:"center",children:e.email}),Object(l.jsx)(r.a,{align:"center",children:e.id}),Object(l.jsx)(r.a,{align:"center",children:e.dateOfBirth.toDate().toLocaleString("en-US",{dateStyle:"long"})}),Object(l.jsx)(r.a,{align:"center",children:e.createdOn.toDate().toLocaleString("en-US",{dateStyle:"long",timeStyle:"short"})})]},e.id)}))},h=["Name","ID","Role","Entrance #","Date of entry","Destination"],u=function(){return h.map((function(e){return Object(l.jsx)(r.a,{sx:{fontWeight:"bold"},align:"center",children:e},e)}))},f=function(e){return e.dataInfo.map((function(e,t){return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",children:e.firstName+" "+e.lastName}),Object(l.jsx)(r.a,{align:"center",children:e.id}),Object(l.jsx)(r.a,{align:"center",children:e.role}),Object(l.jsx)(r.a,{align:"center",children:e.entrance}),Object(l.jsx)(r.a,{align:"center",children:e.dateOfEntry.toDate().toLocaleString("en-US",{dateStyle:"long",timeStyle:"short"})}),Object(l.jsx)(r.a,{align:"center",children:e.destination})]},t)}))};function x(e){var t=e.type,n=e.dataInfo;return console.log(n),Object(l.jsx)(i.a,{sx:{mt:2},children:Object(l.jsxs)(a.a,{sx:{minWidth:650},size:"small","aria-label":"Search table",children:[Object(l.jsx)(s.a,{children:Object(l.jsxs)(o.a,{children:["SearchUser"===t&&Object(l.jsx)(d,{}),"SearchGuest"===t&&Object(l.jsx)(u,{})]})}),Object(l.jsxs)(c.a,{children:["SearchUser"===t&&Object(l.jsx)(b,{dataInfo:n}),"SearchGuest"===t&&Object(l.jsx)(f,{dataInfo:n})]})]})})}},633:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var a=n(12),c=n(1),r=n.n(c),i=n(52),s=n(123),o=n(620),l=n(621),j=n(266),d=n(277),b=n(635),h=n(637),u=n(636),f=n(320),x=n(100),O=n(639),m=n(638),p=n(613),g=n(614),y=n(437),v=n(586),S=n(2);var E=function(e){var t=e.dataInfo.length,n=function(){return t<70?"#02ba0f":t>=70&&t<90?"#ff8f00":"#b71c1c"},a=[{value:t,fill:n()}];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{sx:{mt:2},children:Object(S.jsx)(p.a,{width:"100%",height:e.size,children:Object(S.jsxs)(g.a,{cx:"50%",cy:e.size/2,startAngle:90,endAngle:-270,outerRadius:e.size/2,innerRadius:e.size/3,barSize:30,data:a,children:[Object(S.jsx)(y.a,{type:"number",domain:[0,100],tick:!1}),Object(S.jsx)(v.a,{background:!0,dataKey:"value"}),Object(S.jsx)("text",{x:"50%",y:e.size/2,textAnchor:"middle",dominantBaseline:"middle",fill:n(),children:t})]})})}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{variant:"h5",component:"h2",children:"Current occupancy"}),Object(S.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:"Current amount of people in the site"})]})]})},I=n(634),A=n(593),D=n(594),R=n(603),k=n(592),z=n(591),C=n(436),w=n(590);var U=function(e){var t=r.a.useState([]),n=Object(a.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){if(0===e.dataInfo.length)s([{time:"No entries today",value:"0",value1:"0"}]);else{var t=[];e.dataInfo.forEach((function(e){t.push(Object(w.a)(e.dateOfEntry.toDate()))}));var n=[];t.forEach((function(e){n[e]=(n[e]||0)+1}));var a=[0],c=0,r=[];n.map((function(e,t){a.push(e);var n=a.length-1;c+=a[n],r.push({time:t<10?"0".concat(t,":00"):"".concat(t,":00"),value:e,value1:c})})),s(r)}}),[e.dataInfo]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{sx:{mt:2},children:Object(S.jsx)(p.a,{width:"100%",height:e.size,children:Object(S.jsxs)(I.a,{data:i,margin:{right:20,left:20},children:[Object(S.jsx)(A.a,{dataKey:"time",stroke:"#90a4ae"}),Object(S.jsx)(D.a,{yAxisId:"right",orientation:"right",stroke:"#0088FE"}),Object(S.jsx)(D.a,{yAxisId:"left",stroke:"#4caf50"}),Object(S.jsx)(R.a,{wrapperStyle:{outline:"none"},contentStyle:{color:"white",backgroundColor:"#424242",borderRadius:"10px"}}),Object(S.jsx)(k.a,{yAxisId:"left",dataKey:"value",barSize:20,fill:"#4caf50",name:"Amount of entries"}),Object(S.jsx)(z.a,{yAxisId:"right",type:"linear",strokeWidth:3,dataKey:"value1",stroke:"#0088FE",name:"Accumulated amount"}),Object(S.jsx)(C.a,{})]})})}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{variant:"h5",component:"h2",children:"Daily entry"}),Object(S.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:"Daily entries grouped by hour of entry"})]})]})},F=n(619),N=n(595),L=n(339),G=["STUDENT","GUEST","PROFESSOR","CLERK"],K=["#0088FE","#4caf50","#ffc107","#f57c00"],T=["AUDITORIUM","THEATER","LIBRARY","COLISEUM"],W=["#0088FE","#4caf50","#ffc107","#f57c00"],B=function(e){var t=r.a.useState([]),n=Object(a.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){if(0!==e.dataInfo.length){var t=[];e.dataInfo.forEach((function(e){t.push(e.destination)}));var n=[];t.forEach((function(e){n[e]=(n[e]||0)+1}));var a=[];T.map((function(e,t){a.push({name:e,value:n[e]})})),s(a)}}),[e.dataInfo]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{sx:{m:1},children:Object(S.jsx)(p.a,{width:"100%",height:e.size,children:Object(S.jsxs)(F.a,{children:[Object(S.jsx)(N.a,{label:!0,dataKey:"value",isAnimationActive:!1,data:i,outerRadius:60,stroke:"none",children:i.map((function(e,t){return Object(S.jsx)(L.a,{fill:W[t%W.length]},"cell-".concat(t))}))}),Object(S.jsx)(R.a,{}),Object(S.jsx)(C.a,{})]})})}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{variant:"h5",component:"h2",children:"Entries by destination"}),Object(S.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:"Guest distribution by destination"})]})]})},J=[{Comp:U,xs:12,md:6,lg:6},{Comp:function(e){var t=r.a.useState([]),n=Object(a.a)(t,2),i=n[0],s=n[1];return Object(c.useEffect)((function(){if(0!==e.dataInfo.length){var t=[];e.dataInfo.forEach((function(e){t.push(e.role)}));var n=[];t.forEach((function(e){n[e]=(n[e]||0)+1}));var a=[];G.map((function(e,t){a.push({name:e,value:n[e]})})),s(a)}}),[e.dataInfo]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{sx:{m:1},children:Object(S.jsx)(p.a,{width:"100%",height:e.size,children:Object(S.jsxs)(F.a,{children:[Object(S.jsx)(N.a,{label:!0,dataKey:"value",isAnimationActive:!1,data:i,outerRadius:60,stroke:"none",children:i.map((function(e,t){return Object(S.jsx)(L.a,{fill:K[t%K.length]},"cell-".concat(t))}))}),Object(S.jsx)(R.a,{}),Object(S.jsx)(C.a,{})]})})}),Object(S.jsxs)(O.a,{children:[Object(S.jsx)(x.a,{variant:"h5",component:"h2",children:"Entries by type"}),Object(S.jsx)(x.a,{variant:"body2",color:"textSecondary",component:"p",children:"Guest distribution by type"})]})]})},xs:6,md:3,lg:3},{Comp:E,xs:6,md:3,lg:3},{Comp:f.a,xs:12,md:9,lg:9},{Comp:B,xs:12,md:3,lg:3}];function M(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],f=Object(c.useState)(!0),x=Object(a.a)(f,2),O=x[0],m=x[1],p=new Date,g=Object(o.a)(p),y=Object(l.a)(p);return Object(c.useEffect)((function(){var e=!0,t=Object(s.a)(i.b,"guests"),n=Object(s.g)(t,Object(s.h)("dateOfEntry",">=",g),Object(s.h)("dateOfEntry","<=",y),Object(s.f)("dateOfEntry","desc"),Object(s.d)(10));return Object(s.e)(n,(function(t){if(t.empty)console.log("No guests have entered yet."),m(!1);else{var n=[];t.forEach((function(e){n.push(e.data())})),console.log(n),e&&(r(n),m(!1))}})),function(){e=!1}}),[]),Object(S.jsxs)(d.a,{sx:{display:"flex"},children:[Object(S.jsx)(j.a,{}),Object(S.jsxs)(d.a,{component:"div",sx:{p:2,pl:8,flexGrow:1,overflow:"auto"},children:[O&&Object(S.jsx)(u.a,{}),!O&&Object(S.jsx)(b.a,{container:!0,spacing:2,children:J.map((function(e,t){var a=e.Comp;return Object(S.jsx)(b.a,{xs:e.xs,md:e.md,lg:e.lg,children:Object(S.jsx)(h.a,{elevation:5,sx:{display:"flex",flexDirection:"column",height:320},children:Object(S.jsx)(a,{size:220,type:"SearchGuest",dataInfo:n})})},t)}))})]})]})}}}]);
//# sourceMappingURL=11.8989324d.chunk.js.map